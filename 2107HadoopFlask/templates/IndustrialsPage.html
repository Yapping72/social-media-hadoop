<!DOCTYPE html><html lang="en"><head> <meta charset="utf-8" />
    <title>Data Visualization Demo in Flask, Leaflet and ChartJS</title>
   <!-- import plugin script --> 
       <link href="../static/css/bootstrap.min.css" rel="stylesheet">
       <link href="../static/css/jumbotron-narrow.css" rel="stylesheet">
       <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/home.css')}}">
       <script src="../static/js/jquery-1.11.2.js"></script>
       <script src="../static/js/Chart.min.js"></script>
        <script src="../static/js/main.js"></script>
        <script>
            var data = {{data|tojson}};
           
        </script>
       <script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-base.min.js"></script>
	    <script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-tag-cloud.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
       <meta charset="utf-8">
       <meta name="viewport" content="width=device-width, initial-scale=1">
       <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
       <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
       <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
       <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js" type="application/javascript"></script>
       <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
       <!-- Load the Chart.js library -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
        
    </head>
    <body> 
        <div class="container-fluid text-center">
          <div class="row">
            <div class="col-sm-12 col-md-10 col-lg-8 mx-auto">
              <div class="container-fluid" style="margin-right: 500px;">
      <div class="col-sm-9">
                  <div class="well" style="width: 2000px; ">
                    <h2>Industrials Sector Companies</h2>
                    </div>
                    </div>
                <div class="col-sm-9">
                  <div class="well" style="width: 2000px; ">
                    
                    <h3>One - Five Star Reviews for Each of the Company</h3>
                    <br>
                    <div class="row">
                        <canvas id="myChart3" style="height:700px"></canvas>
                    </div>
                  </div>
                </div>
                
                <div class="col-sm-9">
                  <div class="well" style="width: 2000px;">
                    <h2>WordCloud</h2><br>
                    <div class="row">
                      <div class="col-sm-6">
                        <h3>Top 20 words appearing in the Industrials Industry</h3>
                        <img src="data:image/png;base64,{{ image_data }}" style="width:300px" />
                        
                      </div>
                      <div class="col-sm-6">
                        <canvas id="myChart2"></canvas>
                      </div>
                    </div>
                  </div>
                </div>
      
              
                <div class="col-sm-9">
                  <div class="well" style="width: 2000px;">
                    <h2>Choose Company to display statistics </h2>
                
                    <select class="form-select" id="company-dropdown" aria-label="Company Select">
                      {% for company in companies %}
                        <option value="{{ company }}">{{ company }}</option>
                      {% endfor %}
                    </select>
                  </div>
                    <div id="company-div" style="display:none; ">
                        <div class="col-sm-9">
                            <div class="well" style="width: 900px;">
                              <h2 id="div-title"></h2>
                              <div class="row">
                                <div class="col-sm-6">
                                  <h3>1 star Reviews</h3>
                                  <p id="1-star" style="font-size: x-large; color:rgb(230, 31, 31);"></p>
                                  <h3>2 star reviews</h3>
                                  <p id="2-star" style="font-size: x-large; color:rgb(228, 44, 44);"></p>
                                  <h3>3 star Reviews</h3>
                                  <p id="3-star" style="font-size: x-large; color:rgb(54, 6, 248);"></p>
                                  <h3>4 star reviews</h3>
                                  <p id="4-star" style="font-size: x-large; color:rgb(23, 166, 47);"></p>
                                  <h3>5 star reviews</h3>
                                  <p id="5-star" style="font-size: x-large; color:rgb(42, 174, 81);"></p>
                                </div>
                                <div class="col-sm-6">
                                  One Star - Five Star Reviews in percentage
                                  <canvas id="myChart"></canvas>
                                  <div style="margin-top: 90px;">
                                </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div id="div-coy" class="col-sm-9">
                            <div class="well" style="width: 1080px;margin-left: 920px;margin-top: -650px;height: 630px;">
                              <h2>Company Information</h2>
                              <div class="row">
                                <div class="col-sm-6">
                                  
                                  <h3 id="company-name"></h3>
                                      <p id="company-description"></p>
                                  
                                </div>
                                <div class="col-sm-6" style="margin-top: 70px;">
                                  
                                  <p id="company-contact"></p>
                                  <p id="company-founded"></p>
                                  <p id="company-headquarters"></p>
                                  <p id="company-size"></p>
                                  <p id="company-type"></p>
                                  <p id="company-industry"></p>
                                  <p id="company-revenue"></p>
                                  <p id="company-mission"></p>
                          
                                </div>
                              </div>
                            </div>
                          </div>

                    </div>
                
                  </div>
             
                




                  
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </body>
    
  
  <div class="pagination">
    
    
   
  </div>
      
      
  </div>
  
        </div>
            </div>
  </div>
  
  
  
  
<script>

 
var ctx3 = document.getElementById("myChart3").getContext('2d');
var myChart3 = new Chart(ctx3, {
	type: 'bar',
	data: {
		labels: [  {% for company, value in one_star_reviews %}
                        "{{ company}}",
                    {% endfor %}],
		datasets: [{
			label: 'One Star Review',
			backgroundColor: "#caf270",
			data: [{% for company, value in one_star_reviews %}
                        "{{ value }}",
                    {% endfor %}],
		}, {
			label: 'Two Star Reviews',
			backgroundColor: "#45c490",
			data: [{% for company, value in two_star_reviews %}
                        "{{ value }}",
                    {% endfor %}],
		}, {
			label: 'Three Star Reviews',
			backgroundColor: "#008d93",
			data: [{% for company, value in three_star_reviews %}
                        "{{ value }}",
                    {% endfor %}],
		}, 
        
        {
			label: 'Four Star Reviews',
			backgroundColor: "#2e5468",
			data: [{% for company, value in four_star_reviews %}
                        "{{ value }}",
                    {% endfor %}],
		},
    

        {
			label: 'Five Star Reviews',
			backgroundColor: "#2e5468",
			data: [{% for company, value in five_star_reviews %}
                        "{{ value }}",
                    {% endfor %}],
		}

    ],
	},
options: {
    tooltips: {
      displayColors: true,
      callbacks:{
        mode: 'x',
      },
    },
    scales: {
      xAxes: [{
        stacked: true,
        gridLines: {
          display: false,
        }
      }],
      yAxes: [{
        stacked: true,
        ticks: {
          beginAtZero: true,
        },
        type: 'horizontal',
      }]
    },
		responsive: true,
		maintainAspectRatio: false,
		legend: { position: 'bottom' },
	}
});








var ctx2 = document.getElementById('myChart2').getContext('2d');
var myChart2 = new Chart(ctx2, {
            type: 'bar',
            data: {
                labels: [
                    {% for word, count in word_count_list %}
                        "{{ word }}",
                    {% endfor %}
                ],
                datasets: [{
                    label: '# of Occurrences',
                    data: [
                        {% for word, count in word_count_list %}
                            {{ count }},
                        {% endfor %}
                    ],
                    backgroundColor: 'rgba(54, 162, 235, 0.2)',
                    borderColor: 'rgba(54, 162, 235, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true
                        }
                    }]
                }
            }
        });


  </script>
  
      
  
   </body>
   </html>